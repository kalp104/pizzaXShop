@using static PizzaShop.Repository.Helpers.Enums
@model PizzaShop.Repository.ModelView.OrdersHelperModelView;

<div class="p-2 orderContainer overflow-auto" id="TableContainer" data-total-items="@Model.TotalItems">
    @if (Model.customersViews != null && Model.customersViews.Any())
    {
        <table class="table text-nowrap ">
            <thead>
                <tr>
                    <th class="text-center">Name
                        <button id="nameDescending" class="bg-transparent border-0"><i class="bi bi-arrow-up"></i></button>
                        <button id="nameAscending" class="bg-transparent border-0"><i class="bi bi-arrow-down"></i></button>
                    </th>
                    <th class="text-center">Email</th>
                    <th class="text-center ">Phone Number</th>
                    <th class="text-center ">Date
                        <button id="dateDescending" class="bg-transparent border-0"><i class="bi bi-arrow-up"></i></button>
                        <button id="dateAscending" class="bg-transparent border-0"><i class="bi bi-arrow-down"></i></button>
                    </th>
                    <th class="text-center ">Total Order
                        <button id="totalDescending" class="bg-transparent border-0"><i
                                class="bi bi-arrow-up"></i></button>
                        <button id="totalAscending" class="bg-transparent border-0"><i
                                class="bi bi-arrow-down"></i></button>
                    </th>
                </tr>
            </thead>
            <tbody>

                @foreach (var i in Model.customersViews)
                {
                    <tr class="customerDetailsClass"
                        data-bs-toggle="modal" 
                        data-bs-target="#CustomerDetailModal"
                        data-id="@i.Customerid">
                        <td class="text-center">
                            @i.Customername
                        </td>
                        <td class="text-center">
                            @i.Customeremail
                        </td>
                        <td class="text-center">
                            @i.Customerphone
                        </td>
                        <td class="text-center">
                            @(i.Createdat?.Date.ToShortDateString() ?? "N/A")
                        </td>

                        <td class="text-center">
                            @i.totalOrders
                        </td>

                    </tr>
                }
            </tbody>
        </table>
    }
    else
    {
        <div class="d-flex align-items-center justify-content-center m-4">No Customer Found</div>
    }
</div>